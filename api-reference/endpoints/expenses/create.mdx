---
title: 'Create Expense'
openapi: 'POST /expenses'
description: 'Create a new expense record with minimal required fields and smart defaults for optional fields'
---

## Overview

The Create Expense endpoint allows you to add a new expense to your firm's records with just 4 required fields. The API provides smart defaults for all optional fields, making expense creation quick and simple.

## Request Body

### Required Fields (Only 4)

<ParamField body="supplier_id" type="string" required>
  The CzUid of the supplier for this expense
</ParamField>

<ParamField body="amount" type="number" required>
  The expense amount (positive number)
</ParamField>

<ParamField body="vat" type="integer" required>
  VAT percentage (accepted values: 0, 5, 9, 11, 19, 21)
  - 21% is the standard rate in Romania
</ParamField>

<ParamField body="date" type="string" required format="date">
  Expense date in YYYY-MM-DD format
</ParamField>

### Optional Fields with Defaults

<ParamField body="currency" type="string" default="RON">
  Currency code (e.g., RON, EUR, USD)
  - Defaults to RON if not provided
</ParamField>

<ParamField body="due_date" type="string" format="date" default="30 days from today">
  Payment due date in YYYY-MM-DD format
  - Defaults to 30 days from today if not provided
</ParamField>

<ParamField body="category_id" type="integer" default="0">
  The ID of the expense category
  - Optional, defaults to 0 (uncategorized)
</ParamField>

<ParamField body="reference" type="string">
  Reference or invoice number for the expense
</ParamField>

<ParamField body="description" type="string">
  Detailed description of the expense
</ParamField>

<ParamField body="with_vat" type="boolean" default="false">
  Whether the amount includes VAT (true) or excludes VAT (false)
  - Defaults to false if not provided
</ParamField>

<ParamField body="is_paid" type="boolean" default="false">
  Whether the expense is already paid
  - Defaults to false if not provided
</ParamField>

<ParamField body="paid_date" type="string" format="date" default="today">
  Payment date
  - Defaults to today if is_paid is true and paid_date not provided
  - Optional even when is_paid is true
</ParamField>

<ParamField body="payment_type" type="integer" default="1">
  Payment type ID:
  - Defaults to 1 (Cash) if is_paid is true and payment_type not provided
  - Optional even when is_paid is true
  - `1` - Cash
  - `2` - Bank transfer  
  - `3` - Card
  - `4` - Check
  - `5` - Promissory note
  - `6` - Other
  - `7` - Compensation
</ParamField>

<ParamField body="with_currency_exchange" type="boolean" default="false">
  Whether this expense involves currency exchange
</ParamField>

<ParamField body="currency_to" type="string">
  Target currency for exchange (required if with_currency_exchange is true)
</ParamField>

<ParamField body="currency_rate" type="number">
  Exchange rate (required if with_currency_exchange is true)
</ParamField>

## Response

Returns the created expense object with all computed fields including VAT calculations and currency conversions.

<ResponseField name="expense" type="object">
  The created expense object with all details
  
  <Expandable title="Expense Object Properties">
    <ResponseField name="id" type="string">
      Unique CzUid identifier for the expense
    </ResponseField>
    
    <ResponseField name="reference" type="string">
      Reference number or invoice number
    </ResponseField>
    
    <ResponseField name="description" type="string">
      Expense description
    </ResponseField>
    
    <ResponseField name="amount" type="object">
      Original expense amounts with VAT calculations
    </ResponseField>
    
    <ResponseField name="account_amount" type="object">
      Accounting amounts in firm's base currency
    </ResponseField>
    
    <ResponseField name="vat_percent" type="integer">VAT percentage</ResponseField>
    <ResponseField name="with_vat" type="boolean">Whether amount includes VAT</ResponseField>
    <ResponseField name="date" type="string">Expense date</ResponseField>
    <ResponseField name="due_date" type="string">Payment due date</ResponseField>
    <ResponseField name="is_paid" type="boolean">Payment status</ResponseField>
    <ResponseField name="status" type="string">Expense status</ResponseField>
    <ResponseField name="supplier_id" type="string">Supplier CzUid</ResponseField>
    <ResponseField name="category_id" type="integer">Category ID</ResponseField>
    <ResponseField name="currency_exchange" type="object">Currency exchange details (if applicable)</ResponseField>
    <ResponseField name="created_at" type="string">Creation timestamp</ResponseField>
    <ResponseField name="updated_at" type="string">Last update timestamp</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="message" type="string">
  Success message confirming the expense creation
</ResponseField>

## Validation Rules

- **Supplier**: Must exist and be owned by your firm (required)
- **Amount**: Must be a positive number (required)
- **VAT**: Must be one of: 0, 5, 9, 11, 19, or 21 (required)
- **Date**: Must be in YYYY-MM-DD format (required)
- **Category**: If provided, must be a valid expense category for your firm
- **Currency**: If provided, must be a valid 3-letter ISO code
- **Dates**: All dates must be in YYYY-MM-DD format
- **Payment Info**: paid_date and payment_type are optional with smart defaults

## VAT Calculation

The system automatically calculates VAT amounts based on your input:

- If `with_vat` is **true**: The amount includes VAT, and VAT is extracted from the total
- If `with_vat` is **false**: The amount excludes VAT, and VAT is added to get the total

## Currency Exchange

If `with_currency_exchange` is enabled:
- Original amounts are kept in the expense currency
- Account amounts are calculated using the provided exchange rate
- Exchange details are stored for audit purposes

<RequestExample>

```bash Minimal (Required Fields Only)
curl -X POST "https://api.contazen.ro/v1/expenses" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "supplier_id": "sup_xyz789",
    "amount": 100.00,
    "vat": 21,
    "date": "2024-01-15"
  }'
```

```bash With Optional Fields
curl -X POST "https://api.contazen.ro/v1/expenses" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "supplier_id": "sup_xyz789",
    "amount": 238.00,
    "vat": 21,
    "date": "2024-01-15",
    "reference": "INV-2024-001",
    "description": "Office supplies purchase",
    "category_id": 1,
    "with_vat": true,
    "currency": "EUR",
    "due_date": "2024-02-15",
    "is_paid": true
  }'
```

```javascript JavaScript (Minimal)
// Minimal required fields only
const minimalExpense = {
  supplier_id: "sup_xyz789",
  amount: 100.00,
  vat: 21,
  date: "2024-01-15"
};

const response = await fetch('https://api.contazen.ro/v1/expenses', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(minimalExpense)
});

const data = await response.json();
console.log('Created expense:', data.expense);
```

```javascript JavaScript (Full)
// With optional fields
const fullExpense = {
  supplier_id: "sup_xyz789",
  amount: 238.00,
  vat: 21,
  date: "2024-01-15",
  reference: "INV-2024-001",
  description: "Office supplies purchase",
  category_id: 1,
  with_vat: true,
  currency: "EUR",
  due_date: "2024-02-15",
  is_paid: true,
  paid_date: "2024-01-16",
  payment_type: 2
};

const response = await fetch('https://api.contazen.ro/v1/expenses', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(fullExpense)
});

const data = await response.json();
console.log('Created expense:', data.expense);
```

```php PHP (Minimal)
// Minimal required fields only
$minimalExpense = [
    'supplier_id' => 'sup_xyz789',
    'amount' => 100.00,
    'vat' => 21,
    'date' => '2024-01-15'
];

$curl = curl_init();

curl_setopt_array($curl, [
    CURLOPT_URL => 'https://api.contazen.ro/v1/expenses',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_POSTFIELDS => json_encode($minimalExpense),
    CURLOPT_HTTPHEADER => [
        'Authorization: Bearer YOUR_API_KEY',
        'Content-Type: application/json'
    ]
]);

$response = curl_exec($curl);
$data = json_decode($response, true);
curl_close($curl);

echo 'Created expense ID: ' . $data['expense']['id'];
```

</RequestExample>

<ResponseExample>

```json 201 - Success (Minimal)
{
  "success": true,
  "expense": {
    "id": "exp_abc123",
    "reference": null,
    "description": null,
    "amount": {
      "total": "121.00",
      "without_vat": "100.00",
      "vat": "21.00",
      "currency": "RON"
    },
    "account_amount": {
      "total": "121.00",
      "without_vat": "100.00",
      "vat": "21.00",
      "currency": "RON"
    },
    "vat_percent": 21,
    "with_vat": false,
    "date": "2024-01-15",
    "due_date": "2024-02-14",
    "paid_date": null,
    "is_paid": false,
    "payment_type": null,
    "status": "unpaid",
    "supplier_id": "sup_xyz789",
    "category_id": 0,
    "user_id": 1,
    "created_at": "2024-01-15 10:30:00",
    "updated_at": "2024-01-15 10:30:00"
  },
  "message": "Expense created successfully"
}
```

```json 400 - Validation Error
{
  "success": false,
  "error": {
    "message": "Validation failed",
    "type": "invalid_request_error",
    "code": "validation_error",
    "fields": {
      "supplier_id": "Supplier is required",
      "amount": "Amount must be greater than 0"
    }
  }
}
```

</ResponseExample>